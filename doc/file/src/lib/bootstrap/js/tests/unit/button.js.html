<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../../../../../">
  <title data-ice="title">src/lib/bootstrap/js/tests/unit/button.js | API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/app.js~App.html">App</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/html-iframe</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/html-iframe/html-iframe.js~HTMLIFrame.html">HTMLIFrame</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/loading</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/loading/loading-spinner.js~LoadingSpinner.html">LoadingSpinner</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/module/html</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/module/html/module-html.js~ModuleHTML.html">ModuleHTML</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/module/random</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/module/random/module-random.js~ModuleRandom.html">ModuleRandom</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/module/signature</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/module/signature/module-sign.js~BlockSign.html">BlockSign</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/module/signature/module-verify.js~VerifyModule.html">VerifyModule</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/module/skipchain</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/module/skipchain/module-skipchain.js~ModuleSkipChain.html">ModuleSkipChain</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/servers-status</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/servers-status/servers-status.js~ServersStatus.html">ServersStatus</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">lib</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/lib/cothority-messages.js~CothorityMessages.html">CothorityMessages</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/lib/cothority-messages.js~CothorityProtobuf.html">CothorityProtobuf</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-index">index</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">lib/bootstrap/js/src</div><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Alert">Alert</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Button">Button</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Carousel">Carousel</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Collapse">Collapse</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Dropdown">Dropdown</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Modal">Modal</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Popover">Popover</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ScrollSpy">ScrollSpy</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Tab">Tab</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Tooltip">Tooltip</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Util">Util</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">services</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/services/iframe.js~IFrameService.html">IFrameService</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/services/skipchain.js~SkipChainService.html">SkipChainService</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">utils</div><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-buf2hex">buf2hex</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-hex2buf">hex2buf</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-hashFile">hashFile</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-readAsString">readAsString</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-tcp2ws">tcp2ws</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/lib/bootstrap/js/tests/unit/button.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">$(function () {
  &apos;use strict&apos;

  QUnit.module(&apos;button plugin&apos;)

  QUnit.test(&apos;should be defined on jquery object&apos;, function (assert) {
    assert.expect(1)
    assert.ok($(document.body).button, &apos;button method is defined&apos;)
  })

  QUnit.module(&apos;button&apos;, {
    beforeEach: function () {
      // Run all tests in noConflict mode -- it&apos;s the only way to ensure that the plugin works in noConflict mode
      $.fn.bootstrapButton = $.fn.button.noConflict()
    },
    afterEach: function () {
      $.fn.button = $.fn.bootstrapButton
      delete $.fn.bootstrapButton
    }
  })

  QUnit.test(&apos;should provide no conflict&apos;, function (assert) {
    assert.expect(1)
    assert.strictEqual($.fn.button, undefined, &apos;button was set back to undefined (org value)&apos;)
  })

  QUnit.test(&apos;should return jquery collection containing the element&apos;, function (assert) {
    assert.expect(2)
    var $el = $(&apos;&lt;div/&gt;&apos;)
    var $button = $el.bootstrapButton()
    assert.ok($button instanceof $, &apos;returns jquery collection&apos;)
    assert.strictEqual($button[0], $el[0], &apos;collection contains element&apos;)
  })

  QUnit.test(&apos;should toggle active&apos;, function (assert) {
    assert.expect(2)
    var $btn = $(&apos;&lt;button class=&quot;btn&quot; data-toggle=&quot;button&quot;&gt;mdo&lt;/button&gt;&apos;)
    assert.ok(!$btn.hasClass(&apos;active&apos;), &apos;btn does not have active class&apos;)
    $btn.bootstrapButton(&apos;toggle&apos;)
    assert.ok($btn.hasClass(&apos;active&apos;), &apos;btn has class active&apos;)
  })

  QUnit.test(&apos;should toggle active when btn children are clicked&apos;, function (assert) {
    assert.expect(2)
    var $btn = $(&apos;&lt;button class=&quot;btn&quot; data-toggle=&quot;button&quot;&gt;mdo&lt;/button&gt;&apos;)
    var $inner = $(&apos;&lt;i/&gt;&apos;)
    $btn
      .append($inner)
      .appendTo(&apos;#qunit-fixture&apos;)
    assert.ok(!$btn.hasClass(&apos;active&apos;), &apos;btn does not have active class&apos;)
    $inner.trigger(&apos;click&apos;)
    assert.ok($btn.hasClass(&apos;active&apos;), &apos;btn has class active&apos;)
  })

  QUnit.test(&apos;should toggle aria-pressed&apos;, function (assert) {
    assert.expect(2)
    var $btn = $(&apos;&lt;button class=&quot;btn&quot; data-toggle=&quot;button&quot; aria-pressed=&quot;false&quot;&gt;redux&lt;/button&gt;&apos;)
    assert.strictEqual($btn.attr(&apos;aria-pressed&apos;), &apos;false&apos;, &apos;btn aria-pressed state is false&apos;)
    $btn.bootstrapButton(&apos;toggle&apos;)
    assert.strictEqual($btn.attr(&apos;aria-pressed&apos;), &apos;true&apos;, &apos;btn aria-pressed state is true&apos;)
  })

  QUnit.test(&apos;should toggle aria-pressed on buttons with container&apos;, function (assert) {
    assert.expect(1)
    var groupHTML = &apos;&lt;div class=&quot;btn-group&quot; data-toggle=&quot;buttons&quot;&gt;&apos; +
        &apos;&lt;button id=&quot;btn1&quot; class=&quot;btn btn-secondary&quot; type=&quot;button&quot;&gt;One&lt;/button&gt;&apos; +
        &apos;&lt;button class=&quot;btn btn-secondary&quot; type=&quot;button&quot;&gt;Two&lt;/button&gt;&apos; +
      &apos;&lt;/div&gt;&apos;
    $(&apos;#qunit-fixture&apos;).append(groupHTML)
    $(&apos;#btn1&apos;).bootstrapButton(&apos;toggle&apos;)
    assert.strictEqual($(&apos;#btn1&apos;).attr(&apos;aria-pressed&apos;), &apos;true&apos;)
  })

  QUnit.test(&apos;should toggle aria-pressed when btn children are clicked&apos;, function (assert) {
    assert.expect(2)
    var $btn = $(&apos;&lt;button class=&quot;btn&quot; data-toggle=&quot;button&quot; aria-pressed=&quot;false&quot;&gt;redux&lt;/button&gt;&apos;)
    var $inner = $(&apos;&lt;i/&gt;&apos;)
    $btn
      .append($inner)
      .appendTo(&apos;#qunit-fixture&apos;)
    assert.strictEqual($btn.attr(&apos;aria-pressed&apos;), &apos;false&apos;, &apos;btn aria-pressed state is false&apos;)
    $inner.trigger(&apos;click&apos;)
    assert.strictEqual($btn.attr(&apos;aria-pressed&apos;), &apos;true&apos;, &apos;btn aria-pressed state is true&apos;)
  })

  QUnit.test(&apos;should trigger input change event when toggled button has input field&apos;, function (assert) {
    assert.expect(1)
    var done = assert.async()

    var groupHTML = &apos;&lt;div class=&quot;btn-group&quot; data-toggle=&quot;buttons&quot;&gt;&apos;
      + &apos;&lt;label class=&quot;btn btn-primary&quot;&gt;&apos;
      + &apos;&lt;input type=&quot;radio&quot; id=&quot;radio&quot; autocomplete=&quot;off&quot;&gt;Radio&apos;
      + &apos;&lt;/label&gt;&apos;
      + &apos;&lt;/div&gt;&apos;
    var $group = $(groupHTML).appendTo(&apos;#qunit-fixture&apos;)

    $group.find(&apos;input&apos;).on(&apos;change&apos;, function (e) {
      e.preventDefault()
      assert.ok(true, &apos;change event fired&apos;)
      done()
    })

    $group.find(&apos;label&apos;).trigger(&apos;click&apos;)
  })

  QUnit.test(&apos;should check for closest matching toggle&apos;, function (assert) {
    assert.expect(12)
    var groupHTML = &apos;&lt;div class=&quot;btn-group&quot; data-toggle=&quot;buttons&quot;&gt;&apos;
      + &apos;&lt;label class=&quot;btn btn-primary active&quot;&gt;&apos;
      + &apos;&lt;input type=&quot;radio&quot; name=&quot;options&quot; id=&quot;option1&quot; checked=&quot;true&quot;&gt; Option 1&apos;
      + &apos;&lt;/label&gt;&apos;
      + &apos;&lt;label class=&quot;btn btn-primary&quot;&gt;&apos;
      + &apos;&lt;input type=&quot;radio&quot; name=&quot;options&quot; id=&quot;option2&quot;&gt; Option 2&apos;
      + &apos;&lt;/label&gt;&apos;
      + &apos;&lt;label class=&quot;btn btn-primary&quot;&gt;&apos;
      + &apos;&lt;input type=&quot;radio&quot; name=&quot;options&quot; id=&quot;option3&quot;&gt; Option 3&apos;
      + &apos;&lt;/label&gt;&apos;
      + &apos;&lt;/div&gt;&apos;
    var $group = $(groupHTML).appendTo(&apos;#qunit-fixture&apos;)

    var $btn1 = $group.children().eq(0)
    var $btn2 = $group.children().eq(1)

    assert.ok($btn1.hasClass(&apos;active&apos;), &apos;btn1 has active class&apos;)
    assert.ok($btn1.find(&apos;input&apos;).prop(&apos;checked&apos;), &apos;btn1 is checked&apos;)
    assert.ok(!$btn2.hasClass(&apos;active&apos;), &apos;btn2 does not have active class&apos;)
    assert.ok(!$btn2.find(&apos;input&apos;).prop(&apos;checked&apos;), &apos;btn2 is not checked&apos;)
    $btn2.find(&apos;input&apos;).trigger(&apos;click&apos;)
    assert.ok(!$btn1.hasClass(&apos;active&apos;), &apos;btn1 does not have active class&apos;)
    assert.ok(!$btn1.find(&apos;input&apos;).prop(&apos;checked&apos;), &apos;btn1 is not checked&apos;)
    assert.ok($btn2.hasClass(&apos;active&apos;), &apos;btn2 has active class&apos;)
    assert.ok($btn2.find(&apos;input&apos;).prop(&apos;checked&apos;), &apos;btn2 is checked&apos;)

    $btn2.find(&apos;input&apos;).trigger(&apos;click&apos;) // clicking an already checked radio should not un-check it
    assert.ok(!$btn1.hasClass(&apos;active&apos;), &apos;btn1 does not have active class&apos;)
    assert.ok(!$btn1.find(&apos;input&apos;).prop(&apos;checked&apos;), &apos;btn1 is not checked&apos;)
    assert.ok($btn2.hasClass(&apos;active&apos;), &apos;btn2 has active class&apos;)
    assert.ok($btn2.find(&apos;input&apos;).prop(&apos;checked&apos;), &apos;btn2 is checked&apos;)
  })

})
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.5.2)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
