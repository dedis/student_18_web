<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../../">
  <title data-ice="title">src/lib/bootstrap/Gruntfile.js | API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/app.js~App.html">App</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/html-iframe</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/html-iframe/html-iframe.js~HTMLIFrame.html">HTMLIFrame</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/loading</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/loading/loading-spinner.js~LoadingSpinner.html">LoadingSpinner</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/module/html</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/module/html/module-html.js~ModuleHTML.html">ModuleHTML</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/module/random</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/module/random/module-random.js~ModuleRandom.html">ModuleRandom</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/module/signature</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/module/signature/module-sign.js~BlockSign.html">BlockSign</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/module/signature/module-verify.js~VerifyModule.html">VerifyModule</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/module/skipchain</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/module/skipchain/module-skipchain.js~ModuleSkipChain.html">ModuleSkipChain</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/servers-status</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/servers-status/servers-status.js~ServersStatus.html">ServersStatus</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">lib</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/lib/cothority-messages.js~CothorityMessages.html">CothorityMessages</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/lib/cothority-messages.js~CothorityProtobuf.html">CothorityProtobuf</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-index">index</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">lib/bootstrap/js/src</div><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Alert">Alert</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Button">Button</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Carousel">Carousel</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Collapse">Collapse</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Dropdown">Dropdown</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Modal">Modal</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Popover">Popover</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ScrollSpy">ScrollSpy</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Tab">Tab</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Tooltip">Tooltip</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Util">Util</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">services</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/services/iframe.js~IFrameService.html">IFrameService</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/services/skipchain.js~SkipChainService.html">SkipChainService</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">utils</div><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-buf2hex">buf2hex</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-hex2buf">hex2buf</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-hashFile">hashFile</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-readAsString">readAsString</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-tcp2ws">tcp2ws</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/lib/bootstrap/Gruntfile.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">/*!
 * Bootstrap&apos;s Gruntfile
 * https://getbootstrap.com
 * Copyright 2013-2017 The Bootstrap Authors
 * Copyright 2013-2017 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */

module.exports = function (grunt) {
  &apos;use strict&apos;

  // Force use of Unix newlines
  grunt.util.linefeed = &apos;\n&apos;

  RegExp.quote = function (string) {
    return string.replace(/[-\\^$*+?.()|[\]{}]/g, &apos;\\$&amp;&apos;)
  }

  var path = require(&apos;path&apos;)
  var isTravis = require(&apos;is-travis&apos;)

  var configBridge = grunt.file.readJSON(&apos;./grunt/configBridge.json&apos;, { encoding: &apos;utf8&apos; })

  Object.keys(configBridge.paths).forEach(function (key) {
    configBridge.paths[key].forEach(function (val, i, arr) {
      arr[i] = path.join(&apos;./docs&apos;, val)
    })
  })

  // Project configuration.
  grunt.initConfig({

    // Metadata.
    pkg: grunt.file.readJSON(&apos;package.json&apos;),
    banner: &apos;/*!\n&apos; +
            &apos; * Bootstrap v&lt;%= pkg.version %&gt; (&lt;%= pkg.homepage %&gt;)\n&apos; +
            &apos; * Copyright 2011-&lt;%= grunt.template.today(&quot;yyyy&quot;) %&gt; &lt;%= pkg.author %&gt;\n&apos; +
            &apos; * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n&apos; +
            &apos; */\n&apos;,
    jqueryCheck: &apos;if (typeof jQuery === \&apos;undefined\&apos;) {\n&apos; +
                 &apos;  throw new Error(\&apos;Bootstrap\\\&apos;s JavaScript requires jQuery. jQuery must be included before Bootstrap\\\&apos;s JavaScript.\&apos;)\n&apos; +
                 &apos;}\n&apos;,
    jqueryVersionCheck: &apos;+function ($) {\n&apos; +
                        &apos;  var version = $.fn.jquery.split(\&apos; \&apos;)[0].split(\&apos;.\&apos;)\n&apos; +
                        &apos;  if ((version[0] &lt; 2 &amp;&amp; version[1] &lt; 9) || (version[0] == 1 &amp;&amp; version[1] == 9 &amp;&amp; version[2] &lt; 1) || (version[0] &gt;= 4)) {\n&apos; +
                        &apos;    throw new Error(\&apos;Bootstrap\\\&apos;s JavaScript requires at least jQuery v1.9.1 but less than v4.0.0\&apos;)\n&apos; +
                        &apos;  }\n&apos; +
                        &apos;}(jQuery);\n\n&apos;,

    // Task configuration.
    clean: {
      dist: &apos;dist&apos;,
      docs: &apos;docs/dist&apos;
    },

    // JS build configuration
    babel: {
      dev: {
        options: {
          sourceMap: true
        },
        files: {
          &apos;js/dist/util.js&apos;      : &apos;js/src/util.js&apos;,
          &apos;js/dist/alert.js&apos;     : &apos;js/src/alert.js&apos;,
          &apos;js/dist/button.js&apos;    : &apos;js/src/button.js&apos;,
          &apos;js/dist/carousel.js&apos;  : &apos;js/src/carousel.js&apos;,
          &apos;js/dist/collapse.js&apos;  : &apos;js/src/collapse.js&apos;,
          &apos;js/dist/dropdown.js&apos;  : &apos;js/src/dropdown.js&apos;,
          &apos;js/dist/modal.js&apos;     : &apos;js/src/modal.js&apos;,
          &apos;js/dist/scrollspy.js&apos; : &apos;js/src/scrollspy.js&apos;,
          &apos;js/dist/tab.js&apos;       : &apos;js/src/tab.js&apos;,
          &apos;js/dist/tooltip.js&apos;   : &apos;js/src/tooltip.js&apos;,
          &apos;js/dist/popover.js&apos;   : &apos;js/src/popover.js&apos;
        }
      },
      dist: {
        options: {
          extends: &apos;../../js/.babelrc&apos;
        },
        files: {
          &apos;&lt;%= concat.bootstrap.dest %&gt;&apos; : &apos;&lt;%= concat.bootstrap.dest %&gt;&apos;
        }
      }
    },

    stamp: {
      options: {
        banner: &apos;&lt;%= banner %&gt;\n&lt;%= jqueryCheck %&gt;\n&lt;%= jqueryVersionCheck %&gt;\n+function () {\n&apos;,
        footer: &apos;\n}();&apos;
      },
      bootstrap: {
        files: {
          src: &apos;&lt;%= concat.bootstrap.dest %&gt;&apos;
        }
      }
    },

    concat: {
      options: {
        // Custom function to remove all export and import statements
        process: function (src) {
          return src.replace(/^(export|import).*/gm, &apos;&apos;)
        }
      },
      bootstrap: {
        src: [
          &apos;js/src/util.js&apos;,
          &apos;js/src/alert.js&apos;,
          &apos;js/src/button.js&apos;,
          &apos;js/src/carousel.js&apos;,
          &apos;js/src/collapse.js&apos;,
          &apos;js/src/dropdown.js&apos;,
          &apos;js/src/modal.js&apos;,
          &apos;js/src/scrollspy.js&apos;,
          &apos;js/src/tab.js&apos;,
          &apos;js/src/tooltip.js&apos;,
          &apos;js/src/popover.js&apos;
        ],
        dest: &apos;dist/js/&lt;%= pkg.name %&gt;.js&apos;
      }
    },

    qunit: {
      options: {
        inject: &apos;js/tests/unit/phantom.js&apos;
      },
      files: &apos;js/tests/index.html&apos;
    },

    // CSS build configuration
    copy: {
      docs: {
        expand: true,
        cwd: &apos;dist/&apos;,
        src: [
          &apos;**/*&apos;
        ],
        dest: &apos;docs/dist/&apos;
      }
    },

    connect: {
      server: {
        options: {
          port: 3000,
          base: &apos;.&apos;
        }
      }
    },

    jekyll: {
      options: {
        bundleExec: true,
        config: &apos;_config.yml&apos;,
        incremental: false
      },
      docs: {},
      github: {
        options: {
          raw: &apos;github: true&apos;
        }
      }
    },

    htmllint: {
      options: {
        ignore: [
          &apos;Attribute &#x201C;autocomplete&#x201D; is only allowed when the input type is &#x201C;color&#x201D;, &#x201C;date&#x201D;, &#x201C;datetime&#x201D;, &#x201C;datetime-local&#x201D;, &#x201C;email&#x201D;, &#x201C;hidden&#x201D;, &#x201C;month&#x201D;, &#x201C;number&#x201D;, &#x201C;password&#x201D;, &#x201C;range&#x201D;, &#x201C;search&#x201D;, &#x201C;tel&#x201D;, &#x201C;text&#x201D;, &#x201C;time&#x201D;, &#x201C;url&#x201D;, or &#x201C;week&#x201D;.&apos;,
          &apos;Attribute &#x201C;autocomplete&#x201D; not allowed on element &#x201C;button&#x201D; at this point.&apos;,
          &apos;Consider using the &#x201C;h1&#x201D; element as a top-level heading only (all &#x201C;h1&#x201D; elements are treated as top-level headings by many screen readers and other tools).&apos;,
          &apos;Element &#x201C;div&#x201D; not allowed as child of element &#x201C;progress&#x201D; in this context. (Suppressing further errors from this subtree.)&apos;,
          &apos;Element &#x201C;img&#x201D; is missing required attribute &#x201C;src&#x201D;.&apos;,
          &apos;The &#x201C;color&#x201D; input type is not supported in all browsers. Please be sure to test, and consider using a polyfill.&apos;,
          &apos;The &#x201C;date&#x201D; input type is not supported in all browsers. Please be sure to test, and consider using a polyfill.&apos;,
          &apos;The &#x201C;datetime&#x201D; input type is not supported in all browsers. Please be sure to test, and consider using a polyfill.&apos;,
          &apos;The &#x201C;datetime-local&#x201D; input type is not supported in all browsers. Please be sure to test, and consider using a polyfill.&apos;,
          &apos;The &#x201C;month&#x201D; input type is not supported in all browsers. Please be sure to test, and consider using a polyfill.&apos;,
          &apos;The &#x201C;time&#x201D; input type is not supported in all browsers. Please be sure to test, and consider using a polyfill.&apos;,
          &apos;The &#x201C;week&#x201D; input type is not supported in all browsers. Please be sure to test, and consider using a polyfill.&apos;
        ]
      },
      src: [&apos;_gh_pages/**/*.html&apos;, &apos;js/tests/visual/*.html&apos;]
    },

    watch: {
      src: {
        files: &apos;&lt;%= concat.bootstrap.src %&gt;&apos;,
        tasks: [&apos;babel:dev&apos;]
      },
      sass: {
        files: &apos;scss/**/*.scss&apos;,
        tasks: [&apos;dist-css&apos;, &apos;docs&apos;]
      },
      docs: {
        files: &apos;docs/assets/scss/**/*.scss&apos;,
        tasks: [&apos;dist-css&apos;, &apos;docs&apos;]
      }
    },

    &apos;saucelabs-qunit&apos;: {
      all: {
        options: {
          build: process.env.TRAVIS_JOB_ID,
          concurrency: 10,
          maxRetries: 3,
          maxPollRetries: 4,
          urls: [&apos;http://127.0.0.1:3000/js/tests/index.html?hidepassed&apos;],
          browsers: grunt.file.readYAML(&apos;grunt/sauce_browsers.yml&apos;)
        }
      }
    },

    exec: {
      &apos;clean-css&apos;: {
        command: &apos;npm run clean-css&apos;
      },
      &apos;clean-css-docs&apos;: {
        command: &apos;npm run clean-css-docs&apos;
      },
      postcss: {
        command: &apos;npm run postcss&apos;
      },
      &apos;postcss-docs&apos;: {
        command: &apos;npm run postcss-docs&apos;
      },
      htmlhint: {
        command: &apos;npm run htmlhint&apos;
      },
      sass: {
        command: &apos;npm run sass&apos;
      },
      &apos;sass-docs&apos;: {
        command: &apos;npm run sass-docs&apos;
      },
      &apos;scss-lint&apos;: {
        command: &apos;npm run scss-lint&apos;
      },
      &apos;scss-lint-docs&apos;: {
        command: &apos;npm run scss-lint-docs&apos;
      },
      uglify: {
        command: &apos;npm run uglify&apos;
      },
      &apos;uglify-docs&apos;: {
        command: &apos;npm run uglify-docs&apos;
      }
    },

    buildcontrol: {
      options: {
        dir: &apos;_gh_pages&apos;,
        commit: true,
        push: true,
        message: &apos;Built %sourceName% from commit %sourceCommit% on branch %sourceBranch%&apos;
      },
      pages: {
        options: {
          remote: &apos;git@github.com:twbs/derpstrap.git&apos;,
          branch: &apos;gh-pages&apos;
        }
      }
    },

    compress: {
      main: {
        options: {
          archive: &apos;bootstrap-&lt;%= pkg.version %&gt;-dist.zip&apos;,
          mode: &apos;zip&apos;,
          level: 9,
          pretty: true
        },
        files: [
          {
            expand: true,
            cwd: &apos;dist/&apos;,
            src: [&apos;**&apos;],
            dest: &apos;bootstrap-&lt;%= pkg.version %&gt;-dist&apos;
          }
        ]
      }
    }

  })


  // These plugins provide necessary tasks.
  require(&apos;load-grunt-tasks&apos;)(grunt)
  require(&apos;time-grunt&apos;)(grunt)

  // Docs HTML validation task
  grunt.registerTask(&apos;validate-html&apos;, [&apos;jekyll:docs&apos;, &apos;htmllint&apos;, &apos;exec:htmlhint&apos;])

  var runSubset = function (subset) {
    return !process.env.TWBS_TEST || process.env.TWBS_TEST === subset
  }
  var isUndefOrNonZero = function (val) {
    return val === undefined || val !== &apos;0&apos;
  }

  // Test task.
  var testSubtasks = []
  // Skip core tests if running a different subset of the test suite
  if (runSubset(&apos;core&apos;) &amp;&amp;
    // Skip core tests if this is a Savage build
    process.env.TRAVIS_REPO_SLUG !== &apos;twbs-savage/bootstrap&apos;) {
    testSubtasks = testSubtasks.concat([&apos;dist-css&apos;, &apos;dist-js&apos;, &apos;test-scss&apos;, &apos;qunit&apos;, &apos;docs&apos;])
  }
  // Skip HTML validation if running a different subset of the test suite
  if (runSubset(&apos;validate-html&apos;) &amp;&amp;
      isTravis &amp;&amp;
      // Skip HTML5 validator when [skip validator] is in the commit message
      isUndefOrNonZero(process.env.TWBS_DO_VALIDATOR)) {
    testSubtasks.push(&apos;validate-html&apos;)
  }
  // Only run Sauce Labs tests if there&apos;s a Sauce access key
  if (typeof process.env.SAUCE_ACCESS_KEY !== &apos;undefined&apos; &amp;&amp;
      // Skip Sauce if running a different subset of the test suite
      runSubset(&apos;sauce-js-unit&apos;)) {
    testSubtasks = testSubtasks.concat([&apos;dist&apos;, &apos;docs-css&apos;, &apos;docs-js&apos;, &apos;clean:docs&apos;, &apos;copy:docs&apos;])
    // Skip Sauce on Travis when [skip sauce] is in the commit message
    if (isUndefOrNonZero(process.env.TWBS_DO_SAUCE)) {
      testSubtasks.push(&apos;connect&apos;)
      testSubtasks.push(&apos;saucelabs-qunit&apos;)
    }
  }
  grunt.registerTask(&apos;test&apos;, testSubtasks)

  // JS distribution task.
  grunt.registerTask(&apos;dist-js&apos;, [&apos;babel:dev&apos;, &apos;concat&apos;, &apos;babel:dist&apos;, &apos;stamp&apos;, &apos;exec:uglify&apos;])

  grunt.registerTask(&apos;test-scss&apos;, [&apos;exec:scss-lint&apos;])

  // CSS distribution task.
  grunt.registerTask(&apos;sass-compile&apos;, [&apos;exec:sass&apos;, &apos;exec:sass-docs&apos;])

  grunt.registerTask(&apos;dist-css&apos;, [&apos;sass-compile&apos;, &apos;exec:postcss&apos;, &apos;exec:clean-css&apos;, &apos;exec:clean-css-docs&apos;])

  // Full distribution task.
  grunt.registerTask(&apos;dist&apos;, [&apos;clean:dist&apos;, &apos;dist-css&apos;, &apos;dist-js&apos;])

  // Default task.
  grunt.registerTask(&apos;default&apos;, [&apos;clean:dist&apos;, &apos;test&apos;])

  // Docs task.
  grunt.registerTask(&apos;docs-css&apos;, [&apos;exec:clean-css-docs&apos;, &apos;exec:postcss-docs&apos;])
  grunt.registerTask(&apos;lint-docs-css&apos;, [&apos;exec:scss-lint-docs&apos;])
  grunt.registerTask(&apos;docs-js&apos;, [&apos;exec:uglify-docs&apos;])
  grunt.registerTask(&apos;docs&apos;, [&apos;lint-docs-css&apos;, &apos;docs-css&apos;, &apos;docs-js&apos;, &apos;clean:docs&apos;, &apos;copy:docs&apos;])
  grunt.registerTask(&apos;docs-github&apos;, [&apos;jekyll:github&apos;])

  grunt.registerTask(&apos;prep-release&apos;, [&apos;dist&apos;, &apos;docs&apos;, &apos;docs-github&apos;, &apos;compress&apos;])

  // Publish to GitHub
  grunt.registerTask(&apos;publish&apos;, [&apos;buildcontrol:pages&apos;])
}
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.5.2)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
